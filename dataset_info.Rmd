---
title: "Dataset Information"
author: "Micah Fadrigo"
date: "5/9/2022"
output: html_document
---

```{r setup, include=FALSE} 
knitr::opts_chunk$set(warning = FALSE, message = FALSE) 
```

```{r}
library(tidyverse)
library(lubridate)
library(dplyr)
```

## Test Positivity Data From PCR Tests

For this project our team used two separate COVID-19 datasets in order to test mortality and positivity in 

```{r}
# Read in data
# insert path to dataset on local computer 
pcr_data <- read_csv("/Users/Christie1/Desktop/COVID Project/All PCR tests updated 1.26.21.csv")

glimpse(pcr_data) # get to know variables
dim(pcr_data)
head(pcr_data) # first 6 observations
tail(pcr_data) # last 6 observations
```

__There are `r nrow(pcr_data)` observations and `r ncol(pcr_data)` variables in the dataset. Each observation represents an individual in Orange County who has taken a PCR Test.__

```{r}
pcr_data %>% 
  arrange(ymd(pcr_data$Specimen.Collected.Date)) %>% 
  head()
```

```{r}
pcr_data %>% 
  arrange(ymd(pcr_data$Specimen.Collected.Date)) %>% 
  tail(1)
```

## Mortality Data

```{r}
# Read in data
# insert path to dataset on local computer 
mortality_data <- read_csv("/Users/Christie1/Desktop/COVID Project/1.26.21 release to UCI team.csv")

glimpse(mortality_data) # get to know variables
head(mortality_data) # first 6 observations
tail(mortality_data) # last 6 observations

usable_cases %>% 
  filter(death_due_to_covid == 1) %>% 
  nrow()

usable_cases %>% 
  filter(death_due_to_covid == 0) %>% 
  nrow()
```

__There are `r nrow(mortality_data)` observations and `r ncol(mortality_data)` variables in the dataset. Each observation represents an individual in Orange County who has taken a PCR Test that tested positive for COVID-19.__

## Data Visualizations

```{r}
## Positivity Visualization based on month
usable_tests %>% 
  filter(covid_positive==1) %>% 
  group_by(month = month(posted_date)) %>% 
  summarise(covid_positive_2 = n()) %>% 
  ggplot(aes(x = month, y = covid_positive_2))  +
  geom_line(size = 0.5, color = "#0072B2") + 
  geom_point(color = "white", fill = "#0072B2", shape = 21, size = 3) +
  scale_x_continuous(breaks = function(x) unique(floor(pretty(seq(0, (max(x) + 1) * 1.1))))) + 
  labs(title = "COVID-19 Positive Cases in 2020", x = "Month", y="Positive Tests")
```



